

<ion-content class="page-bg-secondary" >

  <ion-header class="ion-no-border">
    <ion-toolbar mode="md" color="secondary" >
      <ion-buttons slot="start">
        <ion-button  (click)="close()">
          <ion-icon color="light" slot="icon-only" name="arrow-back" ></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title class="ion-text-center toolbar">Demande de réparation</ion-title>
      <ion-buttons slot="end">
        <ion-button disabled="true">
          <ion-icon color="primary" slot="icon-only" name=""></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <div class="ion-padding">

    <p class="page-title page-title-light mt-15">Prenez rendez-vous</p>
    <p class="page-title page-title-light">pour la réparation</p>
    <p class="page-title page-title-light">de votre Apapreil</p>

    <ion-row class="ion-margin-bottom">
      <ion-col size="12" class="calendar-icon ion-text-center ion-margin-top"><ion-icon name="calendar-outline"></ion-icon></ion-col>
      <ion-col class="calendar-months ion-text-center" size="4">{{months?.previous}}</ion-col>
      <ion-col class="calendar-months-current ion-text-center" size="4">{{months?.current}}</ion-col>
      <ion-col class="calendar-months ion-text-center" size="4">{{months?.next}}</ion-col>
    </ion-row>

    <calendar [showEventDetail] = "false"
              [calendarMode]="calendar.mode"
              [currentDate]="calendar.currentDate"
              [step]="calendar.step"
              (onCurrentDateChanged)="onDateChanged($event)">
    </calendar>

    <ion-row class="ion-margin-top ion-justify-content-center">
      <ion-col size="12" class="form-card-dark">
        <p class="form-card-dark-label">Adresse de récuperation</p>
        <input [value]="locationName"  (click)="PriceRef.open()" placeholder="choisir le prix de piéce" class="form-card-dark-input"  type="text"/>

        <ion-select [(ngModel)]="locationId" class="input" #PriceRef (ionChange)="onLocationSelect()">
          <ion-select-option  *ngFor="let location of locations" value="{{location.id}}">{{location.address}}</ion-select-option>
        </ion-select>
      </ion-col>

      <ion-col size="12" size-sm="7" class="ion-no-padding ion-margin-top">
        <ion-button (click)="submit()" class="btn-secondary-tint"  expand="block" [disabled]="isAllVariablesExists()">confirmer la demande</ion-button>
      </ion-col>

    </ion-row>

  </div>

</ion-content>
